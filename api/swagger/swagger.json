{
  "openapi": "3.0.0",
  "info": {
     "version": "1.0.0",
     "title": "Swagger Prueba"
  },
  "servers": [
     {
        "url": "http://localhost:3000/api/v1"
     }
  ],
  "components": {
     "schemas": {
        "roles": {
           "type": "array",
           "items": {
              "oneOf": [
                 {
                    "$ref": "#/components/schemas/role"
                 }
              ]
           }
        },
        "role": {
           "type": "object",
           "properties": {
              "name": {
                 "type": "string"
              }
           }
        },
        "pet": {
           "type": "object",
           "properties": {
              "identificador": {
                 "type": "integer",
                 "format": "int64"
              },
              "name": {
                 "type": "string"
              }
           }
        },
        "user": {
           "type": "object",
           "properties": {
              "username": {
                 "type": "string",
                 "format": "mail"
              },
              "password": {
                 "type": "string"
              }
           }
        },
        "userWithToken": {
           "type": "object",
           "properties": {
              "token": {
                 "type": "string"
              },
              "user": {
                 "type": "object",
                 "properties": {
                    "id": {
                       "type": "integer",
                       "format": "int64"
                    },
                    "phoneNumber": {
                       "type": "integer"
                    },
                    "name": {
                       "type": "string"
                    },
                    "mail": {
                       "type": "string"
                    },
                    "password": {
                       "type": "string",
                       "format": "empty"
                    },
                    "Role": {
                       "type": "object",
                       "properties": {
                          "name": {
                             "type": "string"
                          }
                       }
                    }
                 }
              }
           }
        }
     },
     "securitySchemes": {
        "bearerAuth": {
           "type": "http",
           "scheme": "bearer",
           "bearerFormat": "JWT",
           "description": "token to receive any endpoint send: Bearer space token "
        }
     },
     "responses": {
        "UnauthorizedError": {
           "description": "Access token is missing or invalid"
        }
     }
  },
  "security": [
     {
        "bearerAuth": []
     }
  ],
  "paths": {
     "/auth/login": {
        "post": {
           "summary": "Login user to system",
           "tags": [
              "Login"
           ],
           "security": [],
           "requestBody": {
              "description": "data to login user",
              "required": true,
              "content": {
                 "application/json": {
                    "schema": {
                       "$ref": "#/components/schemas/user"
                    }
                 }
              }
           },
           "responses": {
              "200": {
                 "description": "A data user with token.",
                 "content": {
                    "application/json": {
                       "schema": {
                          "$ref": "#/components/schemas/userWithToken"
                       }
                    }
                 }
              },
              "401": {
                 "$ref": "#/components/responses/UnauthorizedError"
              }
           }
        }
     },
     "/role": {
        "get": {
           "summary": "Roles exist in a system",
           "tags": [
              "List of roles"
           ],
           "security": [
              {
                 "bearerAuth": []
              }
           ],
           "responses": {
              "200": {
                 "description": "List roles",
                 "content": {
                    "application/json": {
                       "schema": {
                          "$ref": "#/components/schemas/roles"
                       }
                    }
                 }
              },
              "401": {
                 "$ref": "#/components/responses/UnauthorizedError"
              }
           }
        }
     }
  }
}